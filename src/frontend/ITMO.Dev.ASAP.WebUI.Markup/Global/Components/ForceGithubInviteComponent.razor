@using ITMO.Dev.ASAP.WebApi.Sdk.ControllerClients
@inject IGithubManagementClient Client

<Button Clicked="ButtonClicked" Color="Color.Secondary" Width="Width.Is100">
    Force GitHub invite
</Button>

<ConfirmationComponent @ref="_component" Action="SendAsync" ActionName="force GitHub invitations"/>

@code {

    private ConfirmationComponent? _component;

    private Task ButtonClicked()
    {
        return _component?.Show() ?? Task.CompletedTask;
    }

    private Task SendAsync(CancellationToken cancellationToken)
    {
        return Client.ForceOrganizationsUpdateAsync(cancellationToken);
    }

}