# Shreks

Система предназначена для автоматизации процесса обучения, а именно: процессов отправки заданий студентами, формирования очереди и оценивания заданий преподавателями.

- [Glossary](Docs/Glossary.md)
- [Tech docs](Docs/TechDocs/Readme.md)

## Idea

Образовательный процесс на дисциплинах, связанных с программированием, требует написания и ревью кода. Для этого хорошо подходит Github с его Pull request и Review request системами. Но в отличие от обычной разработки, в контексте образования важно отслеживать прогресс и оценивать работу студентов. Shreks - это сервис, который за счёт Github app и прослушивания Webhooks с Github интегрируется с процессов проверки, обрабатывает команды и управляет очередями и системой оценивания. В качестве Presentation layer система использует Google Sheet. В директории Google Drive генерируются таблицы успеваемости и таблицы с очередями на сдачу.

### Процесс использования системы для конечного пользователя

Система использует API Github для отслеживания действий студентов и преподавателей и API Google для предоставления информации пользователям.

Для каждой дисциплины после добавления в систему:

- Создаётся организация;
- Отправляются приглашения в организацию студентам (у Github есть лимит в 50 приглашений в день, приглашения отправляются каждый день в фоновой процессе);
- Создаются для студентов их личные приватные репозитории по указанному шаблонному репозиторию;
- Создаётся таблица в Google Sheet и заполняется данными о студентах.

Как с системой работает студент:

- Принимает приглашение в организацию
- Клонирует созданный репозиторий, создаёт ветку и загружает решение задания
- Создаёт PR, вносит правки после ревью
- Ориентируется на сгенерированную в Google Sheet очередь во время сдачи

Как с системой работает преподаватель/ментор:

- Принимает приглашение в организацию
- Ориентируется на очередь для определения порядки принятия в студентов из очереди
- При просмотре PR делает review

В этом время система:

- Отслеживает создание Pull request и добавляет в очередь, обновляет очередь в Google Sheet
- Отслеживает результаты review, отслеживает оценки и обновляет их в Google Sheet

Пример сгенерированной таблицы с баллами:

![Points](Docs/Images/PointsTableSample.png)

Пример сгенерированной таблицы с очередью:

![Queue](Docs/Images/QueueTableSample.png)

## План реализации

- [x] Реализовать основную логику работы приложения
- [ ] Добавить двух этапную проверку - ревью и очная защита
- [ ] Поддержать сценарий, когда для каждого задания создаётся отдельный репозиторий
- [ ] Добавить интеграцию с Github Auth и ITMO ID
- [ ] Поддержать отслеживания выполнения работ в команде
- [ ] Интеграция с CI и отслеживать успешные и проблемы запуски
- [ ] Добавить возможность кастомизировать сгенерированные таблицы

## How to config infrastructure

1. Настроить Google integration - [Google integration](Docs/TechDocs/GoogleIntegration.md#how-to-build)
2. Настроить Github OAuth - [Github OAuth](Docs/TechDocs/GithubSetup.md)
3. Настроить Github App - [Github App](Docs/TechDocs/GithubSetup.md#how-to-config-github-app)